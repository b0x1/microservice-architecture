swarm:
  http:
    port: 8080
  contex:
    path: "/"
  logging:
---
project:
  stage: dev
swarm:
  logging: DEBUG
  microprofile:
    config:
      config-sources:
        KEY:
          properties:
            some.secret.data: "keep this a secret!"
            service.map.data: >
              key1 : val1 |
              key2 : val2 |
              key3 : val3
---
project:
  stage: test
swarm:
  logging: INFO
  microprofile:
    config:
      config-sources:
        KEY:
          properties:
            some.secret.data: "keep this a secret!"
            service.map.data: >
              key1 : val1 |
              key2 : val2 |
              key3 : val3
---
# Necessary because config set via 'swarm.jaeger.*', breaks jaeger integration
JAEGER_SERVICE_NAME: ${project.artifactId}
JAEGER_AGENT_HOST: ${env.JAEGER_HOST}
JAEGER_AGENT_PORT: ${env.JAEGER_PORT}
JAEGER_REPORTER_LOG_SPANS: true
JAEGER_REPORTER_FLUSH_INTERVAL: 100
JAEGER_SAMPLER_TYPE: const
JAEGER_SAMPLER_PARAM: 1

project:
  stage: openshift
swarm:
  logging:
    custom-handlers:
      SYSLOGGER:
        attribute-class: org.jboss.logmanager.handlers.SyslogHandler
        module: org.jboss.logmanager
        properties:
          serverHostname: ${env.SYSLOG_SERVER}
          hostname: ${project.artifactId}
          port: ${env.SYSLOG_PORT}
          protocol: UDP
    root-logger:
      level: INFO
      handlers:
        - CONSOLE
        - SYSLOGGER
  # microprofile-config sources configuration
  microprofile:
    config:
      config-sources:
        KEY:
          dir: "/config"
